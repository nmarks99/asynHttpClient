record(lso, "$(P)FullURL") {
    field(DTYP, "asynOctetWrite")
    field(OUT, "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))FULL_URL")
    field(SIZV, 2048)
}

record(mbbo, "$(P)HTTPMethod") {
    field(VAL, 0)
    field(PINI, 1)
    field(DTYP, "asynInt32")
    field(ZRST, "GET")
    field(ONST, "HEAD")
    field(TWST, "POST")
    field(THST, "PUT")
    field(FRST, "DELETE")
    field(FVST, "CONNECT")
    field(SXST, "OPTIONS")
    field(SVST, "TRACE")
    field(EIST, "PATCH")
    field(ZRVL, 0)
    field(ONVL, 1)
    field(TWVL, 2)
    field(THVL, 3)
    field(FRVL, 4)
    field(FVVL, 5)
    field(SXVL, 6)
    field(SVVL, 7)
    field(EIVL, 8)
    field(OUT, "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))HTTP_METHOD")
}

record(bo, "$(P)Execute") {
    field(DTYP, "asynInt32")
    field(OUT, "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))EXECUTE")
}

record(longin, "$(P)StatusCode") {
    field(DTYP, "asynInt32")
    field(INP, "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))STATUS_CODE")
    field(SCAN, "I/O Intr")
}

record(lsi, "$(P)Response") {
    field(DTYP, "asynOctetRead")
    field(INP, "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))RESPONSE")
    field(SIZV, 32767)
    field(SCAN, "I/O Intr")
}

record(bo, "$(P)ResponseFormat") {
    field(DTYP, "asynInt32")
    field(ZNAM, "Raw")
    field(ONAM, "JSON")
    field(VAL, 0)
    field(OUT, "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))RESPONSE_FORMAT")
}

# Records for combined setting HTTP method and sending the request
#
record(longout, "$(P)POSTExec") {
    field(VAL, 2)
    field(OUT, "$(P)HTTPMethod.VAL PP NMS")
    field(FLNK, "$(P)Execute.PROC")
}

record(longout, "$(P)GETExec") {
    field(VAL, 0)
    field(OUT, "$(P)HTTPMethod.VAL PP NMS")
    field(FLNK, "$(P)Execute.PROC")
}
